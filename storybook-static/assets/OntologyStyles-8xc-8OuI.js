import{j as m}from"./jsx-runtime-CexXSJP5.js";import{u as O}from"./useQuery-B337kmae.js";import{r as a}from"./index-BP8_t0zE.js";import{l as I}from"./lodash-DZrcJQkD.js";const S={"http://telicent.io/ontology/":"telicent:"},l=t=>t&&t.startsWith("http")&&t.includes("#"),c=t=>{if(l(t)){const o=t.split("#");return o.length>1?o[1]:t}const e=Object.keys(S).find(o=>t.startsWith(o));return e?t.replace(e,""):t},b=t=>{if(t){const e=/(\b[a-zA-Z0-9])?/g,o=t.match(e);if(o)return o.join("").slice(0,3)}return console.warn(`Telicent DS (getInitials): Unable to get initials from "${t}"`),""},i=t=>{if(l(t)){const e=t.split("#");if(e.length===2)return b(I.startCase(e[1]))}return t??""},x=t=>Object.entries(t).map(([e,o])=>({classUri:e,backgroundColor:o.defaultStyles.dark.backgroundColor,color:o.defaultStyles.dark.color,iconFallbackText:i(e),alt:c(e),shape:o.defaultStyles.shape,faUnicode:o.defaultIcons.faUnicode,faIcon:o.defaultIcons.faIcon})),u=a.createContext(null),F=({service:t,children:e})=>{const f=O({queryKey:["ontology-styles"],queryFn:()=>t.getStyles(),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:!1,staleTime:864e5,enabled:!!t,select:x}),{isLoading:d,data:s=[]}=f,y=n=>{const r=s.find(p=>p.classUri===n);if(r)return r;const g=c(n),h=i(n);return{classUri:n,color:"#DDDDDD",backgroundColor:"#121212",iconFallbackText:h,alt:g}};return m.jsx(u.Provider,{value:{isLoadingStyles:d,styles:s,findIcon:y},children:e})},T=()=>{const t=a.useContext(u);if(!t)throw new Error("useOntologyService has to be used within <OntologyStylesProvider />");return t};F.__docgenInfo={description:"",methods:[],displayName:"OntologyStylesProvider"};export{F as O,T as u};
