import{r as n}from"./index-BwDkhjyp.js";import{r as J}from"./index-B8XB3FuZ.js";import{j as _}from"./jsx-runtime-Nms4Y4qS.js";import{u as C,s as F}from"./useForkRef-UxOPvILp.js";import{u as L,a as O}from"./TransitionGroupContext-Dii4aaAC.js";import{_ as v}from"./extends-CCbyfPlC.js";import{_ as Q}from"./createTheme-CnHyYZiq.js";import{u as U}from"./useTheme-DGd8psJl.js";import{T as X,r as Y,g as b}from"./utils-DOhIVSbh.js";function Z(s){return typeof s=="function"?s():s}const dt=n.forwardRef(function(E,l){const{children:e,container:g,disablePortal:o=!1}=E,[i,p]=n.useState(null),h=C(n.isValidElement(e)?e.ref:null,l);if(L(()=>{o||p(Z(g)||document.body)},[g,o]),L(()=>{if(i&&!o)return F(l,i),()=>{F(l,null)}},[l,i,o]),o){if(n.isValidElement(e)){const T={ref:h};return n.cloneElement(e,T)}return _.jsx(n.Fragment,{children:e})}return _.jsx(n.Fragment,{children:i&&J.createPortal(e,i)})}),I=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function A(s){return`scale(${s}, ${s**2})`}const tt={entering:{opacity:1,transform:A(1)},entered:{opacity:1,transform:"none"}},R=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),nt=n.forwardRef(function(E,l){const{addEndListener:e,appear:g=!0,children:o,easing:i,in:p,onEnter:h,onEntered:T,onEntering:H,onExit:D,onExited:w,onExiting:G,style:P,timeout:c="auto",TransitionComponent:S=X}=E,N=Q(E,I),V=O(),j=n.useRef(),d=U(),x=n.useRef(null),W=C(x,o.ref,l),m=t=>a=>{if(t){const u=x.current;a===void 0?t(u):t(u,a)}},$=m(H),z=m((t,a)=>{Y(t);const{duration:u,delay:y,easing:r}=b({style:P,timeout:c,easing:i},{mode:"enter"});let f;c==="auto"?(f=d.transitions.getAutoHeightDuration(t.clientHeight),j.current=f):f=u,t.style.transition=[d.transitions.create("opacity",{duration:f,delay:y}),d.transitions.create("transform",{duration:R?f:f*.666,delay:y,easing:r})].join(","),h&&h(t,a)}),K=m(T),M=m(G),k=m(t=>{const{duration:a,delay:u,easing:y}=b({style:P,timeout:c,easing:i},{mode:"exit"});let r;c==="auto"?(r=d.transitions.getAutoHeightDuration(t.clientHeight),j.current=r):r=a,t.style.transition=[d.transitions.create("opacity",{duration:r,delay:u}),d.transitions.create("transform",{duration:R?r:r*.666,delay:R?u:u||r*.333,easing:y})].join(","),t.style.opacity=0,t.style.transform=A(.75),D&&D(t)}),q=m(w),B=t=>{c==="auto"&&V.start(j.current||0,t),e&&e(x.current,t)};return _.jsx(S,v({appear:g,in:p,nodeRef:x,onEnter:z,onEntered:K,onEntering:$,onExit:k,onExited:q,onExiting:M,addEndListener:B,timeout:c==="auto"?null:c},N,{children:(t,a)=>n.cloneElement(o,v({style:v({opacity:0,transform:A(.75),visibility:t==="exited"&&!p?"hidden":void 0},tt[t],P,o.props.style),ref:W},a))}))});nt.muiSupportAuto=!0;export{nt as G,dt as P};
