import{j as w}from"./jsx-runtime-Nms4Y4qS.js";import{r as x}from"./index-BwDkhjyp.js";import{u as Ie}from"./useTheme-DGd8psJl.js";import{_ as T}from"./extends-CCbyfPlC.js";import{g as ge,s as W,a as he,c as be,b as xe}from"./styled-jK8V3O51.js";import{g as ye}from"./generateUtilityClasses-BGohe2Km.js";import{o as Ge,_ as K}from"./createTheme-CnHyYZiq.js";import{u as oe}from"./useForkRef-UxOPvILp.js";import{o as Xe,u as H}from"./useSlotProps-CIvTNmGa.js";import{u as Je}from"./useId-bIDWZ5VS.js";import{a as Qe,b as q}from"./TransitionGroupContext-Dii4aaAC.js";import{T as Ye,g as we}from"./utils-DOhIVSbh.js";import{c as Re}from"./createSvgIcon-Dt4Rk6ns.js";import{r as B}from"./mergeSlotProps-BTNqYSHa.js";import{P as ve}from"./index-D3ylJrlI.js";import{a as te}from"./colorManipulator-9GsPPk9G.js";function Ze(e){return ge("MuiCollapse",e)}ye("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const et=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],tt=e=>{const{orientation:t,classes:o}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return xe(r,Ze,o)},nt=W("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.state==="entered"&&t.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>T({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&T({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),ot=W("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>T({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),rt=W("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>T({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Me=x.forwardRef(function(t,o){const r=he({props:t,name:"MuiCollapse"}),{addEndListener:s,children:u,className:d,collapsedSize:c="0px",component:I,easing:m,in:h,onEnter:n,onEntered:i,onEntering:y,onExit:f,onExited:l,onExiting:g,orientation:p="vertical",style:a,timeout:b=Ge.standard,TransitionComponent:C=Ye}=r,S=K(r,et),k=T({},r,{orientation:p,collapsedSize:c}),R=tt(k),Y=Ie(),le=Qe(),O=x.useRef(null),j=x.useRef(),L=typeof c=="number"?`${c}px`:c,A=p==="horizontal",P=A?"width":"height",N=x.useRef(null),X=oe(o,N),F=E=>M=>{if(E){const D=N.current;M===void 0?E(D):E(D,M)}},z=()=>O.current?O.current[A?"clientWidth":"clientHeight"]:0,V=F((E,M)=>{O.current&&A&&(O.current.style.position="absolute"),E.style[P]=L,n&&n(E,M)}),Z=F((E,M)=>{const D=z();O.current&&A&&(O.current.style.position="");const{duration:U,easing:_}=we({style:a,timeout:b,easing:m},{mode:"enter"});if(b==="auto"){const ee=Y.transitions.getAutoHeightDuration(D);E.style.transitionDuration=`${ee}ms`,j.current=ee}else E.style.transitionDuration=typeof U=="string"?U:`${U}ms`;E.style[P]=`${D}px`,E.style.transitionTimingFunction=_,y&&y(E,M)}),ae=F((E,M)=>{E.style[P]="auto",i&&i(E,M)}),J=F(E=>{E.style[P]=`${z()}px`,f&&f(E)}),ce=F(l),ue=F(E=>{const M=z(),{duration:D,easing:U}=we({style:a,timeout:b,easing:m},{mode:"exit"});if(b==="auto"){const _=Y.transitions.getAutoHeightDuration(M);E.style.transitionDuration=`${_}ms`,j.current=_}else E.style.transitionDuration=typeof D=="string"?D:`${D}ms`;E.style[P]=L,E.style.transitionTimingFunction=U,g&&g(E)}),de=E=>{b==="auto"&&le.start(j.current||0,E),s&&s(N.current,E)};return w.jsx(C,T({in:h,onEnter:V,onEntered:ae,onEntering:Z,onExit:J,onExited:ce,onExiting:ue,addEndListener:de,nodeRef:N,timeout:b==="auto"?null:b},S,{children:(E,M)=>w.jsx(nt,T({as:I,className:be(R.root,d,{entered:R.entered,exited:!h&&L==="0px"&&R.hidden}[E]),style:T({[A?"minWidth":"minHeight"]:L},a),ref:X},M,{ownerState:T({},k,{state:E}),children:w.jsx(ot,{ownerState:T({},k,{state:E}),className:R.wrapper,ref:O,children:w.jsx(rt,{ownerState:T({},k,{state:E}),className:R.wrapperInner,children:u})})}))}))});Me.muiSupportAuto=!0;const st=(e,t)=>{const o=x.useRef({}),[r,s]=x.useState(()=>{const d={};return e.forEach(c=>{c.models&&Object.entries(c.models).forEach(([I,m])=>{o.current[I]={isControlled:t[I]!==void 0,getDefaultValue:m.getDefaultValue},d[I]=m.getDefaultValue(t)})}),d});return Object.fromEntries(Object.entries(o.current).map(([d,c])=>{const I=t[d]??r[d];return[d,{value:I,setControlledValue:m=>{c.isControlled||s(h=>T({},h,{[d]:m}))}}]}))};class it{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,r={}){let s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),r.isFirst?s.highPriority.set(o,!0):s.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const r=this.events[t];if(!r)return;const s=Array.from(r.highPriority.keys()),u=Array.from(r.regular.keys());for(let d=s.length-1;d>=0;d-=1){const c=s[d];r.highPriority.has(c)&&c.apply(this,o)}for(let d=0;d<u.length;d+=1){const c=u[d];r.regular.has(c)&&c.apply(this,o)}}once(t,o){const r=this;this.on(t,function s(...u){r.removeListener(t,s),o.apply(r,u)})}}const lt=e=>e.isPropagationStopped!==void 0,ke=()=>{const[e]=x.useState(()=>new it),t=x.useCallback((...r)=>{const[s,u,d={}]=r;d.defaultMuiPrevented=!1,!(lt(d)&&d.isPropagationStopped())&&e.emit(s,u,d)},[e]),o=x.useCallback((r,s)=>(e.on(r,s),()=>{e.removeListener(r,s)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:o}}};ke.params={};const at=[ke];function ct(e){const t=x.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const ut=e=>{const t=[...at,...e.plugins],o=t.reduce((p,a)=>a.getDefaultizedParams?a.getDefaultizedParams(p):p,e),r=st(t,o),u=x.useRef({}).current,d=ct(e.apiRef),c=x.useRef(null),I=oe(c,e.rootRef),[m,h]=x.useState(()=>{const p={};return t.forEach(a=>{a.getInitialState&&Object.assign(p,a.getInitialState(o))}),p}),n=[],i={publicAPI:d,instance:u,rootRef:c},y=p=>{const a=p({instance:u,params:o,slots:o.slots,slotProps:o.slotProps,state:m,setState:h,rootRef:c,models:r});a.getRootProps&&n.push(a.getRootProps),a.publicAPI&&Object.assign(d,a.publicAPI),a.instance&&Object.assign(u,a.instance),a.contextValue&&Object.assign(i,a.contextValue)};t.forEach(y),i.runItemPlugins=p=>{let a=null,b=null;return t.forEach(C=>{if(!C.itemPlugin)return;const S=C.itemPlugin({props:p,rootRef:a,contentRef:b});S!=null&&S.rootRef&&(a=S.rootRef),S!=null&&S.contentRef&&(b=S.contentRef)}),{contentRef:b,rootRef:a}};const f=t.map(p=>p.wrapItem).filter(p=>!!p);i.wrapItem=({itemId:p,children:a})=>{let b=a;return f.forEach(C=>{b=C({itemId:p,children:b})}),b};const l=t.map(p=>p.wrapRoot).filter(p=>!!p);return i.wrapRoot=({children:p})=>{let a=p;return l.forEach(b=>{a=b({children:a})}),a},{getRootProps:(p={})=>{const a=T({role:"tree"},p,{ref:I});return n.forEach(b=>{Object.assign(a,b(p))}),a},rootRef:I,contextValue:i,instance:u}},Pe=x.createContext(null);function dt(e){const{value:t,children:o}=e;return w.jsx(Pe.Provider,{value:t,children:t.wrapRoot({children:o})})}const Ve=({params:e})=>{const t=Je(e.id),o=x.useCallback((r,s)=>s??`${t}-${r}`,[t]);return{getRootProps:()=>({id:t}),instance:{getTreeItemIdAttribute:o}}};Ve.params={id:!0};const pt=(e,t,o)=>{e.$$publishEvent(t,o)},Q="__TREE_VIEW_ROOT_PARENT_ID__",mt=e=>{const t={};return e.forEach((o,r)=>{t[o]=r}),t},De=({items:e,isItemDisabled:t,getItemLabel:o,getItemId:r})=>{const s={},u={},d={[Q]:[]},c=(m,h)=>{var f,l;const n=r?r(m):m.id;if(n==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(m)].join(`
`));if(s[n]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${n}"`].join(`
`));const i=o?o(m):m.label;if(i==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(m)].join(`
`));s[n]={id:n,label:i,parentId:h,idAttribute:void 0,expandable:!!((f=m.children)!=null&&f.length),disabled:t?t(m):!1},u[n]=m,d[n]=[];const y=h??Q;d[y]||(d[y]=[]),d[y].push(n),(l=m.children)==null||l.forEach(g=>c(g,n))};e.forEach(m=>c(m,null));const I={};return Object.keys(d).forEach(m=>{I[m]=mt(d[m])}),{itemMetaMap:s,itemMap:u,itemOrderedChildrenIds:d,itemChildrenIndexes:I}},re=({instance:e,params:t,state:o,setState:r})=>{const s=x.useCallback(f=>o.items.itemMetaMap[f],[o.items.itemMetaMap]),u=x.useCallback(f=>o.items.itemMap[f],[o.items.itemMap]),d=x.useCallback(f=>{if(f==null)return!1;let l=e.getItemMeta(f);if(!l)return!1;if(l.disabled)return!0;for(;l.parentId!=null;)if(l=e.getItemMeta(l.parentId),l.disabled)return!0;return!1},[e]),c=x.useCallback(f=>{const l=e.getItemMeta(f).parentId??Q;return o.items.itemChildrenIndexes[l][f]},[e,o.items.itemChildrenIndexes]),I=x.useCallback(f=>o.items.itemOrderedChildrenIds[f??Q]??[],[o.items.itemOrderedChildrenIds]),m=f=>t.disabledItemsFocusable?!0:!e.isItemDisabled(f),h=x.useRef(!1),n=x.useCallback(()=>{h.current=!0},[]),i=x.useCallback(()=>h.current,[]);return x.useEffect(()=>{e.areItemUpdatesPrevented()||r(f=>{const l=De({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(f.items.itemMetaMap).forEach(g=>{l.itemMetaMap[g.id]||pt(e,"removeItem",{id:g.id})}),T({},f,{items:l})})},[e,r,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{publicAPI:{getItem:u},instance:{getItemMeta:s,getItem:u,getItemsToRender:()=>{const f=l=>{const g=o.items.itemMetaMap[l];return{label:g.label,itemId:g.id,id:g.idAttribute,children:o.items.itemOrderedChildrenIds[l].map(f)}};return o.items.itemOrderedChildrenIds[Q].map(f)},getItemIndex:c,getItemOrderedChildrenIds:I,isItemDisabled:d,isItemNavigable:m,preventItemUpdates:n,areItemUpdatesPrevented:i},contextValue:{disabledItemsFocusable:t.disabledItemsFocusable}}};re.getInitialState=e=>({items:De({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});re.getDefaultizedParams=e=>T({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1});re.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0};const se=({instance:e,params:t,models:o})=>{const r=x.useMemo(()=>{const h=new Map;return o.expandedItems.value.forEach(n=>{h.set(n,!0)}),h},[o.expandedItems.value]),s=(h,n)=>{var i;(i=t.onExpandedItemsChange)==null||i.call(t,h,n),o.expandedItems.setControlledValue(n)},u=x.useCallback(h=>r.has(h),[r]),d=x.useCallback(h=>{var n;return!!((n=e.getItemMeta(h))!=null&&n.expandable)},[e]),c=q((h,n)=>{const i=e.isItemExpanded(n);e.setItemExpansion(h,n,!i)}),I=q((h,n,i)=>{if(e.isItemExpanded(n)===i)return;let f;i?f=[n].concat(o.expandedItems.value):f=o.expandedItems.value.filter(l=>l!==n),t.onItemExpansionToggle&&t.onItemExpansionToggle(h,n,i),s(h,f)});return{publicAPI:{setItemExpansion:I},instance:{isItemExpanded:u,isItemExpandable:d,setItemExpansion:I,toggleItemExpansion:c,expandAllSiblings:(h,n)=>{const i=e.getItemMeta(n),f=e.getItemOrderedChildrenIds(i.parentId).filter(g=>e.isItemExpandable(g)&&!e.isItemExpanded(g)),l=o.expandedItems.value.concat(f);f.length>0&&(t.onItemExpansionToggle&&f.forEach(g=>{t.onItemExpansionToggle(h,g,!0)}),s(h,l))}}}};se.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const ft=[];se.getDefaultizedParams=e=>T({},e,{defaultExpandedItems:e.defaultExpandedItems??ft});se.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0};const Ae=(e,t)=>{let o=t.length-1;for(;o>=0&&!e.isItemNavigable(t[o]);)o-=1;if(o!==-1)return t[o]},It=(e,t)=>{const o=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(o.parentId),s=e.getItemIndex(t);if(s===0)return o.parentId;let u=r[s-1],d=Ae(e,e.getItemOrderedChildrenIds(u));for(;e.isItemExpanded(u)&&d!=null;)u=d,d=e.getItemOrderedChildrenIds(u).find(e.isItemNavigable);return u},ne=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(r!=null)return r}let o=e.getItemMeta(t);for(;o!=null;){const r=e.getItemOrderedChildrenIds(o.parentId),s=e.getItemIndex(o.id);if(s<r.length-1){let u=s+1;for(;!e.isItemNavigable(r[u])&&u<r.length-1;)u+=1;if(e.isItemNavigable(r[u]))return r[u]}o=e.getItemMeta(o.parentId)}return null},Fe=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const o=e.getItemOrderedChildrenIds(t),r=Ae(e,o);if(r==null)return t;t=r}return t},G=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),Oe=(e,t,o)=>{if(t===o)return[t,o];const r=e.getItemMeta(t),s=e.getItemMeta(o);if(r.parentId===s.id||s.parentId===r.id)return s.parentId===r.id?[r.id,s.id]:[s.id,r.id];const u=[r.id],d=[s.id];let c=r.parentId,I=s.parentId,m=d.indexOf(c)!==-1,h=u.indexOf(I)!==-1,n=!0,i=!0;for(;!h&&!m;)n&&(u.push(c),m=d.indexOf(c)!==-1,n=c!==null,!m&&n&&(c=e.getItemMeta(c).parentId)),i&&!m&&(d.push(I),h=u.indexOf(I)!==-1,i=I!==null,!h&&i&&(I=e.getItemMeta(I).parentId));const y=m?c:I,f=e.getItemOrderedChildrenIds(y),l=u[u.indexOf(y)-1],g=d[d.indexOf(y)-1];return f.indexOf(l)<f.indexOf(g)?[t,o]:[o,t]},gt=(e,t,o)=>{const r=I=>{if(e.isItemExpandable(I)&&e.isItemExpanded(I))return e.getItemOrderedChildrenIds(I)[0];let m=e.getItemMeta(I);for(;m!=null;){const h=e.getItemOrderedChildrenIds(m.parentId),n=e.getItemIndex(m.id);if(n<h.length-1)return h[n+1];m=e.getItemMeta(m.parentId)}throw new Error("Invalid range")},[s,u]=Oe(e,t,o),d=[s];let c=s;for(;c!==u;)c=r(c),e.isItemDisabled(c)||d.push(c);return d},ht=e=>{let t=G(e);const o=[];for(;t!=null;)o.push(t),t=ne(e,t);return o},me=e=>Array.isArray(e)?e:e!=null?[e]:[],fe=e=>{const t={};return e.forEach(o=>{t[o]=!0}),t},ie=({instance:e,params:t,models:o})=>{const r=x.useRef(null),s=x.useRef({}),u=x.useMemo(()=>{const l=new Map;return Array.isArray(o.selectedItems.value)?o.selectedItems.value.forEach(g=>{l.set(g,!0)}):o.selectedItems.value!=null&&l.set(o.selectedItems.value,!0),l},[o.selectedItems.value]),d=(l,g)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const p=g.filter(b=>!e.isItemSelected(b)),a=o.selectedItems.value.filter(b=>!g.includes(b));p.forEach(b=>{t.onItemSelectionToggle(l,b,!0)}),a.forEach(b=>{t.onItemSelectionToggle(l,b,!1)})}else g!==o.selectedItems.value&&(o.selectedItems.value!=null&&t.onItemSelectionToggle(l,o.selectedItems.value,!1),g!=null&&t.onItemSelectionToggle(l,g,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(l,g),o.selectedItems.setControlledValue(g)},c=l=>u.has(l),I=(l,g,p=!1)=>{if(t.disableSelection)return;let a;if(p){const b=me(o.selectedItems.value);e.isItemSelected(g)?a=b.filter(C=>C!==g):a=[g].concat(b)}else a=t.multiSelect?[g]:g;d(l,a),r.current=g,s.current={}},m=(l,[g,p])=>{if(t.disableSelection||!t.multiSelect)return;let a=me(o.selectedItems.value).slice();Object.keys(s.current).length>0&&(a=a.filter(k=>!s.current[k]));const b=fe(a),C=gt(e,g,p),S=C.filter(k=>!b[k]);a=a.concat(S),d(l,a),s.current=fe(C)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),instance:{isItemSelected:c,selectItem:I,selectAllNavigableItems:l=>{if(t.disableSelection||!t.multiSelect)return;const g=ht(e);d(l,g),s.current=fe(g)},expandSelectionRange:(l,g)=>{if(r.current!=null){const[p,a]=Oe(e,g,r.current);m(l,[p,a])}},selectRangeFromStartToItem:(l,g)=>{m(l,[G(e),g])},selectRangeFromItemToEnd:(l,g)=>{m(l,[g,Fe(e)])},selectItemFromArrowNavigation:(l,g,p)=>{if(t.disableSelection||!t.multiSelect)return;let a=me(o.selectedItems.value).slice();Object.keys(s.current).length===0?(a.push(p),s.current={[g]:!0,[p]:!0}):(s.current[g]||(s.current={}),s.current[p]?(a=a.filter(b=>b!==g),delete s.current[g]):(a.push(p),s.current[p]=!0)),d(l,a)}},contextValue:{selection:{multiSelect:t.multiSelect}}}};ie.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const bt=[];ie.getDefaultizedParams=e=>T({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?bt:null)});ie.params={disableSelection:!0,multiSelect:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const Ce=1e3;class xt{constructor(t=Ce){this.timeouts=new Map,this.cleanupTimeout=Ce,this.cleanupTimeout=t}register(t,o,r){this.timeouts||(this.timeouts=new Map);const s=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,s)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class yt{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,r){this.registry.register(t,o,r)}unregister(t){this.registry.unregister(t)}reset(){}}class Et{}function Tt(e){let t=0;return function(r,s,u){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new yt:new xt);const[d]=x.useState(new Et),c=x.useRef(null),I=x.useRef();I.current=u;const m=x.useRef(null);if(!c.current&&I.current){const h=(n,i)=>{var y;i.defaultMuiPrevented||(y=I.current)==null||y.call(I,n,i)};c.current=r.$$subscribeEvent(s,h),t+=1,m.current={cleanupToken:t},e.registry.register(d,()=>{var n;(n=c.current)==null||n.call(c),c.current=null,m.current=null},m.current)}else!I.current&&c.current&&(c.current(),c.current=null,m.current&&(e.registry.unregister(m.current),m.current=null));x.useEffect(()=>{if(!c.current&&I.current){const h=(n,i)=>{var y;i.defaultMuiPrevented||(y=I.current)==null||y.call(I,n,i)};c.current=r.$$subscribeEvent(s,h)}return m.current&&e.registry&&(e.registry.unregister(m.current),m.current=null),()=>{var h;(h=c.current)==null||h.call(c),c.current=null}},[r,s])}}const wt={registry:null},vt=Tt(wt),je=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?je(t.shadowRoot):t:null},Ct=(e,t)=>{const o=s=>{const u=e.getItemMeta(s);return u&&(u.parentId==null||e.isItemExpanded(u.parentId))};let r;return Array.isArray(t)?r=t.find(o):t!=null&&o(t)&&(r=t),r==null&&(r=G(e)),r},Ee=({instance:e,params:t,state:o,setState:r,models:s,rootRef:u})=>{const d=Ct(e,s.selectedItems.value),c=q(p=>{const a=typeof p=="function"?p(o.focusedItemId):p;o.focusedItemId!==a&&r(b=>T({},b,{focusedItemId:a}))}),I=x.useCallback(()=>!!u.current&&u.current.contains(je(Xe(u.current))),[u]),m=x.useCallback(p=>o.focusedItemId===p&&I(),[o.focusedItemId,I]),h=p=>{const a=e.getItemMeta(p);return a&&(a.parentId==null||e.isItemExpanded(a.parentId))},n=(p,a)=>{const b=e.getItemMeta(a),C=document.getElementById(e.getTreeItemIdAttribute(a,b.idAttribute));C&&C.focus(),c(a),t.onItemFocus&&t.onItemFocus(p,a)},i=q((p,a)=>{h(a)&&n(p,a)}),y=q(p=>{let a;Array.isArray(s.selectedItems.value)?a=s.selectedItems.value.find(h):s.selectedItems.value!=null&&h(s.selectedItems.value)&&(a=s.selectedItems.value),a==null&&(a=G(e)),n(p,a)}),f=q(()=>{if(o.focusedItemId==null)return;const p=e.getItemMeta(o.focusedItemId);if(p){const a=document.getElementById(e.getTreeItemIdAttribute(o.focusedItemId,p.idAttribute));a&&a.blur()}c(null)}),l=p=>p===d;vt(e,"removeItem",({id:p})=>{o.focusedItemId===p&&e.focusDefaultItem(null)});const g=p=>a=>{var b;(b=p.onFocus)==null||b.call(p,a),!a.defaultMuiPrevented&&a.target===a.currentTarget&&e.focusDefaultItem(a)};return{getRootProps:p=>({onFocus:g(p)}),publicAPI:{focusItem:i},instance:{isItemFocused:m,canItemBeTabbed:l,focusItem:i,focusDefaultItem:y,removeFocusedItem:f}}};Ee.getInitialState=()=>({focusedItemId:null});Ee.params={onItemFocus:!0};function St(e){return!!e&&e.length===1&&!!e.match(/\S/)}const _e=({instance:e,params:t,state:o})=>{const s=Ie().direction==="rtl",u=x.useRef({}),d=q(n=>{u.current=n(u.current)});x.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const n={},i=y=>{n[y.id]=y.label.substring(0,1).toLowerCase()};Object.values(o.items.itemMetaMap).forEach(i),u.current=n},[o.items.itemMetaMap,t.getItemId,e]);const c=(n,i)=>{const y=i.toLowerCase(),f=a=>{const b=ne(e,a);return b===null?G(e):b};let l=null,g=f(n);const p={};for(;l==null&&!p[g];)u.current[g]===y?l=g:(p[g]=!0,g=f(g));return l},I=n=>!t.disableSelection&&!e.isItemDisabled(n),m=n=>!e.isItemDisabled(n)&&e.isItemExpandable(n);return{instance:{updateFirstCharMap:d,handleItemKeyDown:(n,i)=>{if(n.defaultMuiPrevented||n.altKey||n.currentTarget!==n.target)return;const y=n.ctrlKey||n.metaKey,f=n.key;switch(!0){case(f===" "&&I(i)):{n.preventDefault(),t.multiSelect&&n.shiftKey?e.expandSelectionRange(n,i):t.multiSelect?e.selectItem(n,i,!0):e.selectItem(n,i);break}case f==="Enter":{m(i)?(e.toggleItemExpansion(n,i),n.preventDefault()):I(i)&&(t.multiSelect?(n.preventDefault(),e.selectItem(n,i,!0)):e.isItemSelected(i)||(e.selectItem(n,i),n.preventDefault()));break}case f==="ArrowDown":{const l=ne(e,i);l&&(n.preventDefault(),e.focusItem(n,l),t.multiSelect&&n.shiftKey&&I(l)&&e.selectItemFromArrowNavigation(n,i,l));break}case f==="ArrowUp":{const l=It(e,i);l&&(n.preventDefault(),e.focusItem(n,l),t.multiSelect&&n.shiftKey&&I(l)&&e.selectItemFromArrowNavigation(n,i,l));break}case(f==="ArrowRight"&&!s||f==="ArrowLeft"&&s):{if(e.isItemExpanded(i)){const l=ne(e,i);l&&(e.focusItem(n,l),n.preventDefault())}else m(i)&&(e.toggleItemExpansion(n,i),n.preventDefault());break}case(f==="ArrowLeft"&&!s||f==="ArrowRight"&&s):{if(m(i)&&e.isItemExpanded(i))e.toggleItemExpansion(n,i),n.preventDefault();else{const l=e.getItemMeta(i).parentId;l&&(e.focusItem(n,l),n.preventDefault())}break}case f==="Home":{I(i)&&t.multiSelect&&y&&n.shiftKey?e.selectRangeFromStartToItem(n,i):e.focusItem(n,G(e)),n.preventDefault();break}case f==="End":{I(i)&&t.multiSelect&&y&&n.shiftKey?e.selectRangeFromItemToEnd(n,i):e.focusItem(n,Fe(e)),n.preventDefault();break}case f==="*":{e.expandAllSiblings(n,i),n.preventDefault();break}case(f==="a"&&y&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(n),n.preventDefault();break}case(!y&&!n.shiftKey&&St(f)):{const l=c(i,f);l!=null&&(e.focusItem(n,l),n.preventDefault());break}}}}}};_e.params={};const $e=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});$e.params={};const Rt=[Ve,re,se,ie,Ee,_e,$e],Te=()=>{const e=x.useContext(Pe);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},Mt=["slots","slotProps","apiRef"],kt=e=>{let{props:{slots:t,slotProps:o,apiRef:r},plugins:s,rootRef:u}=e,d=K(e.props,Mt);const c={};s.forEach(h=>{Object.assign(c,h.params)});const I={plugins:s,rootRef:u,slots:t??{},slotProps:o??{},apiRef:r},m={};return Object.keys(d).forEach(h=>{const n=d[h];c[h]?I[h]=n:m[h]=n}),{pluginParams:I,slots:t,slotProps:o,otherProps:m}};function Pt(e){return ge("MuiRichTreeView",e)}ye("MuiRichTreeView",["root"]);function Vt(e){const{instance:t,selection:{multiSelect:o}}=Te(),r=t.isItemExpandable(e),s=t.isItemExpanded(e),u=t.isItemFocused(e),d=t.isItemSelected(e),c=t.isItemDisabled(e);return{disabled:c,expanded:s,selected:d,focused:u,handleExpansion:n=>{if(!c){u||t.focusItem(n,e);const i=o&&(n.shiftKey||n.ctrlKey||n.metaKey);r&&!(i&&t.isItemExpanded(e))&&t.toggleItemExpansion(n,e)}},handleSelection:n=>{c||(u||t.focusItem(n,e),o&&(n.shiftKey||n.ctrlKey||n.metaKey)?n.shiftKey?t.expandSelectionRange(n,e):t.selectItem(n,e,!0):t.selectItem(n,e))},preventSelection:n=>{(n.shiftKey||n.ctrlKey||n.metaKey||c)&&n.preventDefault()}}}const Dt=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown"],Le=x.forwardRef(function(t,o){const{classes:r,className:s,displayIcon:u,expansionIcon:d,icon:c,label:I,itemId:m,onClick:h,onMouseDown:n}=t,i=K(t,Dt),{disabled:y,expanded:f,selected:l,focused:g,handleExpansion:p,handleSelection:a,preventSelection:b}=Vt(m),C=c||d||u,S=R=>{b(R),n&&n(R)},k=R=>{p(R),a(R),h&&h(R)};return w.jsxs("div",T({},i,{className:be(s,r.root,f&&r.expanded,l&&r.selected,g&&r.focused,y&&r.disabled),onClick:k,onMouseDown:S,ref:o,children:[w.jsx("div",{className:r.iconContainer,children:C}),w.jsx("div",{className:r.label,children:I})]}))});function At(e){return ge("MuiTreeItem",e)}const $=ye("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label"]),Ft=Re(w.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),Ot=Re(w.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function Ne(e){const{children:t,itemId:o}=e,{wrapItem:r}=Te();return r({children:t,itemId:o})}Ne.propTypes={children:ve.node,itemId:ve.string.isRequired};const jt=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],_t=["ownerState"],$t=["ownerState"],Lt=["ownerState"],Nt=e=>{const{classes:t}=e;return xe({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],groupTransition:["groupTransition"]},At,t)},zt=W("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),Ut=W(Le,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${$.iconContainer}`]:t.iconContainer},t.label&&{[`& .${$.label}`]:t.label}]})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${$.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${$.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:te(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:te(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${$.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${$.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${$.label}`]:T({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),Kt=W(Me,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0,paddingLeft:12}),qt=x.forwardRef(function(t,o){const{icons:r,runItemPlugins:s,selection:{multiSelect:u},disabledItemsFocusable:d,instance:c}=Te(),I=he({props:t,name:"MuiTreeItem"}),{children:m,className:h,slots:n,slotProps:i,ContentComponent:y=Le,ContentProps:f,itemId:l,id:g,label:p,onClick:a,onMouseDown:b,onBlur:C,onKeyDown:S}=I,k=K(I,jt),{contentRef:R,rootRef:Y}=s(I),le=oe(o,Y),O=oe(f==null?void 0:f.ref,R),j={expandIcon:(n==null?void 0:n.expandIcon)??r.slots.expandIcon??Ft,collapseIcon:(n==null?void 0:n.collapseIcon)??r.slots.collapseIcon??Ot,endIcon:(n==null?void 0:n.endIcon)??r.slots.endIcon,icon:n==null?void 0:n.icon,groupTransition:n==null?void 0:n.groupTransition},L=v=>Array.isArray(v)?v.length>0&&v.some(L):!!v,A=L(m),P=c.isItemExpanded(l),N=c.isItemFocused(l),X=c.isItemSelected(l),F=c.isItemDisabled(l),z=T({},I,{expanded:P,focused:N,selected:X,disabled:F}),V=Nt(z),Z=j.groupTransition??void 0,ae=H({elementType:Z,ownerState:{},externalSlotProps:i==null?void 0:i.groupTransition,additionalProps:{unmountOnExit:!0,in:P,component:"ul",role:"group"},className:V.groupTransition}),J=P?j.collapseIcon:j.expandIcon,ce=H({elementType:J,ownerState:{},externalSlotProps:v=>P?T({},B(r.slotProps.collapseIcon,v),B(i==null?void 0:i.collapseIcon,v)):T({},B(r.slotProps.expandIcon,v),B(i==null?void 0:i.expandIcon,v))}),ue=K(ce,_t),de=A&&J?w.jsx(J,T({},ue)):null,E=A?void 0:j.endIcon,M=H({elementType:E,ownerState:{},externalSlotProps:v=>A?{}:T({},B(r.slotProps.endIcon,v),B(i==null?void 0:i.endIcon,v))}),D=K(M,$t),U=E?w.jsx(E,T({},D)):null,_=j.icon,ee=H({elementType:_,ownerState:{},externalSlotProps:i==null?void 0:i.icon}),ze=K(ee,Lt),Ue=_?w.jsx(_,T({},ze)):null;let pe;u?pe=X:X&&(pe=!0);function Ke(v){!N&&(!F||d)&&v.currentTarget===v.target&&c.focusItem(v,l)}function qe(v){C==null||C(v),c.removeFocusedItem()}const We=v=>{S==null||S(v),c.handleItemKeyDown(v,l)},Be=c.getTreeItemIdAttribute(l,g),He=c.canItemBeTabbed(l)?0:-1;return w.jsx(Ne,{itemId:l,children:w.jsxs(zt,T({className:be(V.root,h),role:"treeitem","aria-expanded":A?P:void 0,"aria-selected":pe,"aria-disabled":F||void 0,id:Be,tabIndex:He},k,{ownerState:z,onFocus:Ke,onBlur:qe,onKeyDown:We,ref:le,children:[w.jsx(Ut,T({as:y,classes:{root:V.content,expanded:V.expanded,selected:V.selected,focused:V.focused,disabled:V.disabled,iconContainer:V.iconContainer,label:V.label},label:p,itemId:l,onClick:a,onMouseDown:b,icon:Ue,expansionIcon:de,displayIcon:U,ownerState:z},f,{ref:O})),m&&w.jsx(Kt,T({as:Z},ae,{children:m}))]}))})}),Wt=e=>{const{classes:t}=e;return xe({root:["root"]},Pt,t)},Bt=W("ul",{name:"MuiRichTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"});function Ht({slots:e,slotProps:t,label:o,id:r,itemId:s,children:u}){const d=(e==null?void 0:e.item)??qt,c=H({elementType:d,externalSlotProps:t==null?void 0:t.item,additionalProps:{itemId:s,id:r,label:o},ownerState:{itemId:s,label:o}});return w.jsx(d,T({},c,{children:u}))}const Gt=x.forwardRef(function(t,o){const r=he({props:t,name:"MuiRichTreeView"}),{pluginParams:s,slots:u,slotProps:d,otherProps:c}=kt({props:r,plugins:Rt,rootRef:o}),{getRootProps:I,contextValue:m,instance:h}=ut(s),n=Wt(r),i=(u==null?void 0:u.root)??Bt,y=H({elementType:i,externalSlotProps:d==null?void 0:d.root,externalForwardedProps:c,className:n.root,getSlotProps:I,ownerState:r}),f=h.getItemsToRender(),l=({label:g,itemId:p,id:a,children:b})=>w.jsx(Ht,{slots:u,slotProps:d,label:g,id:a,itemId:p,children:b==null?void 0:b.map(l)},p);return w.jsx(dt,{value:m,children:w.jsx(i,T({},y,{children:f.map(l)}))})}),Se=({alwaysExpandedIds:e=[],...t})=>{const o=Ie(),[r,s]=x.useState(e),u={backgroundColor:o.palette.primary.main,color:o.palette.primary.contrastText};return w.jsx(Gt,{expandedItems:r,onExpandedItemsChange:(d,c)=>{s([...new Set([...e,...c])])},...t,sx:{".MuiTreeItem-content":{":hover":{...u},"&.Mui-selected.Mui-focused":{...u,":hover":{...u}},"&.Mui-selected":{...u,":hover":{...u}}}}})};try{Se.displayName="TreeView",Se.__docgenInfo={description:"",displayName:"TreeView",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"TreeViewBaseItem[]"}},alwaysExpandedIds:{defaultValue:{value:"[]"},description:"Force children to always be expanded",name:"alwaysExpandedIds",required:!1,type:{name:"string[]"}},defaultExpandedItems:{defaultValue:null,description:"Expanded item ids. Used when the item's expansion is not controlled.",name:"defaultExpandedItems",required:!1,type:{name:"string[]"}},defaultSelectedItems:{defaultValue:null,description:`Selected item ids. (Uncontrolled) When multiSelect is true this takes an
array of strings; when false (default) a string.`,name:"defaultSelectedItems",required:!1,type:{name:"string | string[]"}},expandedItems:{defaultValue:null,description:"Expanded item ids. Used when the item's expansion is controlled.",name:"expandedItems",required:!1,type:{name:"string[]"}},getItemId:{defaultValue:{value:"(item) => item.id"},description:`Used to determine the id of a given item.
@param item The item to check.
@returns The id of the item.`,name:"getItemId",required:!1,type:{name:"((item: TreeViewBaseItem) => string)"}},getItemLabel:{defaultValue:{value:"(item) => item.label"},description:`Used to determine the string label for a given item.
@param item The item to check.
@returns The label of the item.`,name:"getItemLabel",required:!1,type:{name:"((item: TreeViewBaseItem) => string)"}},id:{defaultValue:null,description:`This prop is used to help implement the accessibility logic. If you don't
provide this prop, it falls back to a randomly generated id.`,name:"id",required:!1,type:{name:"string"}},isItemDisabled:{defaultValue:null,description:`Used to determine if a given item should be disabled.
@param item The item to check.
@returns true if the item should be disabled.`,name:"isItemDisabled",required:!1,type:{name:"((item: TreeViewBaseItem) => boolean)"}},multiSelect:{defaultValue:{value:"false"},description:"If true ctrl and shift will trigger multiselect.",name:"multiSelect",required:!1,type:{name:"boolean"}},onExpandedItemsChange:{defaultValue:null,description:`Callback fired when tree items are expanded/collapsed.
@param event The event source of the callback.
@param itemIds The ids of the expanded items.
@returns void`,name:"onExpandedItemsChange",required:!1,type:{name:"((event: SyntheticEvent<Element, Event>, itemIds: string[]) => void)"}},onItemExpansionToggle:{defaultValue:null,description:`Callback fired when a tree item is expanded or collapsed.
@param event The event source of the callback.
@param itemId The itemId of the modified item.
@param isExpanded true if the item has just been expanded, false if it has
just been collapsed.
@returns void`,name:"onItemExpansionToggle",required:!1,type:{name:"((event: SyntheticEvent<Element, Event>, itemId: string, isExpanded: boolean) => void)"}},onItemFocus:{defaultValue:null,description:`Callback fired when tree items are focused.
@param event The event source of the callback Warning: This is a generic event not a focus event.
@param itemId The id of the focused item.
@returns void`,name:"onItemFocus",required:!1,type:{name:"((event: SyntheticEvent<Element, Event> | null, itemId: string) => void)"}},onItemSelectionToggle:{defaultValue:null,description:`Callback fired when a tree item is selected or deselected.
@param event The event source of the callback.
@param itemId The itemId of the modified item.
@param isSelected true if the item has just been selected, false if it has
just been deselected.
@returns void`,name:"onItemSelectionToggle",required:!1,type:{name:"((event: SyntheticEvent<Element, Event>, itemId: string, isSelected: boolean) => void)"}},onSelectedItemsChange:{defaultValue:null,description:`Callback fired when tree items are selected/deselected.
@param event The event source of the callback
@param itemIds The ids of the selected items. When multiSelect is true,
this is an array of strings; when false (default) a string.
@returns void`,name:"onSelectedItemsChange",required:!1,type:{name:"((event: SyntheticEvent<Element, Event>, itemIds: string | string[] | null) => void)"}},selectedItems:{defaultValue:null,description:`Selected item ids. (Controlled) When multiSelect is true this takes an
array of strings; when false (default) a string.`,name:"selectedItems",required:!1,type:{name:"string | string[]"}}}}}catch{}export{Se as T};
