import{a as k,j as d,F as O}from"./emotion-react-jsx-runtime.browser.esm-CUMkBk-e.js";import{r as n}from"./index-BP8_t0zE.js";import{c as j}from"./index-CSpfAsmC.js";import{T as A}from"./TeliButton-DMV69Ca-.js";import{M as D}from"./MenuItem-_24OEzRD.js";import{M as U}from"./MenuList-DhXqMNVQ.js";/* empty css                      */import{G as F}from"./Grow-Bg0f54T-.js";import{P as K}from"./Paper-P7C7xbRI.js";import{j as _}from"./emotion-element-5486c51c.browser.esm-RhhZu_Xj.js";import{u as G}from"./useForkRef-rM2yqL0Y.js";import{b as W}from"./TransitionGroupContext-Cc1z3uP3.js";import{o as C}from"./ownerDocument-DW-IO8s5.js";import{P as X}from"./Popper-BesQJJaZ.js";function P(c){return c.substring(2).toLowerCase()}function z(c,l){return l.documentElement.clientWidth<c.clientX||l.documentElement.clientHeight<c.clientY}function Y(c){const{children:l,disableReactTree:y=!1,mouseEvent:a="onClick",onClickAway:f,touchEvent:i="onTouchEnd"}=c,h=n.useRef(!1),r=n.useRef(null),e=n.useRef(!1),E=n.useRef(!1);n.useEffect(()=>(setTimeout(()=>{e.current=!0},0),()=>{e.current=!1}),[]);const b=G(l.ref,r),p=W(t=>{const s=E.current;E.current=!1;const u=C(r.current);if(!e.current||!r.current||"clientX"in t&&z(t,u))return;if(h.current){h.current=!1;return}let T;t.composedPath?T=t.composedPath().indexOf(r.current)>-1:T=!u.documentElement.contains(t.target)||r.current.contains(t.target),!T&&(y||!s)&&f(t)}),R=t=>s=>{E.current=!0;const u=l.props[t];u&&u(s)},v={ref:b};return i!==!1&&(v[i]=R(i)),n.useEffect(()=>{if(i!==!1){const t=P(i),s=C(r.current),u=()=>{h.current=!0};return s.addEventListener(t,p),s.addEventListener("touchmove",u),()=>{s.removeEventListener(t,p),s.removeEventListener("touchmove",u)}}},[p,i]),a!==!1&&(v[a]=R(a)),n.useEffect(()=>{if(a!==!1){const t=P(a),s=C(r.current);return s.addEventListener(t,p),()=>{s.removeEventListener(t,p)}}},[p,a]),_.jsx(n.Fragment,{children:n.cloneElement(l,v)})}const I=({buttonId:c,listId:l,emptyMessage:y="Nothing found",menuItems:a=[],open:f,onKeyDown:i,onMenuItemClick:h,children:r})=>r||(a==null?void 0:a.length)>0?k(O,{children:[r&&d("div",{className:"teli-menu-contents",children:r}),(a==null?void 0:a.length)>0&&d(U,{autoFocusItem:f,id:l,"aria-labelledby":c,onKeyDown:i,children:a.map(e=>k(D,{onClick:h(e.onClick),children:[e==null?void 0:e.startIcon,e==null?void 0:e.label,e==null?void 0:e.endIcon]},e.id))})]}):d("p",{className:"teli-menu-contents teli-empty-menu-contents",children:y});I.__docgenInfo={description:"",methods:[],displayName:"BasicMenuContents",props:{buttonId:{required:!1,tsType:{name:"any"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},emptyMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Nothing found"',computed:!1}},listId:{required:!1,tsType:{name:"any"},description:""},menuItems:{required:!1,tsType:{name:"Array",elements:[{name:"MenuItem"}],raw:"MenuItem[]"},description:"",defaultValue:{value:"[]",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:""},onKeyDown:{required:!1,tsType:{name:"ReactKeyboardEventHandler",raw:"React.KeyboardEventHandler<HTMLUListElement>",elements:[{name:"HTMLUListElement"}]},description:""},onMenuItemClick:{required:!0,tsType:{name:"signature",type:"function",raw:`(
  onClick?: (event?: Event | React.SyntheticEvent) => void
) => (event: Event | React.SyntheticEvent) => void`,signature:{arguments:[{type:{name:"signature",type:"function",raw:"(event?: Event | React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"union",raw:"Event | React.SyntheticEvent",elements:[{name:"Event"},{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"}]},name:"event"}],return:{name:"void"}}},name:"onClick"}],return:{name:"signature",type:"function",raw:"(event: Event | React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"union",raw:"Event | React.SyntheticEvent",elements:[{name:"Event"},{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"}]},name:"event"}],return:{name:"void"}}}}},description:""}}};const J=({buttonId:c,label:l,listId:y,menuItems:a=[],defaultOpen:f=!1,disabled:i=!1,emptyMessage:h,open:r,tooltip:e,startIcon:E,endIcon:b,width:p,variant:R="tertiary",yPlacement:v="bottom",xPlacement:t=v,onOpen:s,onClose:u,children:T})=>{const{current:N}=n.useRef(r!==void 0),[S,M]=n.useState(!1),m=N?r:S,g=n.useRef(null),H=n.useRef(m),w=n.useCallback(o=>{N||M(o)},[]),x=()=>{M(o=>!o)},L=o=>{g.current&&g.current.contains(o.target)||w(!1)},B=o=>q=>{o&&o(),L(q)},V=o=>{o.key==="Tab"?(o.preventDefault(),w(!1)):o.key==="Escape"&&w(!1)};return n.useEffect(()=>{H.current=m},[m]),n.useEffect(()=>{f&&w(!0)},[]),n.useEffect(()=>{if(i&&m){M(!1);return}},[i]),k("div",{className:"teli-basic-menu",children:[d(A,{ref:g,id:c,variant:R,tooltip:e,startIcon:E,endIcon:b,disabled:i,"aria-controls":m?"composition-menu":void 0,"aria-expanded":m?"true":void 0,"aria-haspopup":"true",onClick:s??x,className:j({"bg-teli-black-600":m}),children:l}),d(X,{transition:!0,disablePortal:!0,open:m??f,anchorEl:g.current,placement:v,modifiers:[{name:"offset",options:{offset:[0,8]}}],sx:{width:p},children:({TransitionProps:o,placement:q})=>d(F,{...o,style:{transformOrigin:t??q},children:d(K,{children:d(Y,{onClickAway:u??L,children:d("div",{children:d(I,{open:m??f,menuItems:a,emptyMessage:h,buttonId:c,listId:y,onKeyDown:V,onMenuItemClick:B,children:T})})})})})})]})};J.__docgenInfo={description:"",methods:[],displayName:"TeliBasicMenu",props:{buttonId:{required:!1,tsType:{name:"string"},description:"The id of the Button element."},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The menu contents."},defaultOpen:{required:!1,tsType:{name:"boolean"},description:`If true, the component is initially open. Use when the component open state
is not controlled (i.e. the open prop is not defined).`,defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"If true, the component will be displayed in a disabled state",defaultValue:{value:"false",computed:!1}},emptyMessage:{required:!1,tsType:{name:"string"},description:"The message to be displayed when menu items are empty."},endIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element placed after the children."},listId:{required:!1,tsType:{name:"string"},description:"The id of the MenuList component."},label:{required:!0,tsType:{name:"union",raw:"string | React.ReactNode",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"}]},description:"The content of the Button component."},menuItems:{required:!1,tsType:{name:"Array",elements:[{name:"MenuItem"}],raw:"MenuItem[]"},description:"Menu content items.",defaultValue:{value:"[]",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"If true, the menu component will be shown."},onOpen:{required:!1,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:`Callback fired when the component requests to be opened. Use it for
controlled mode.`},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: MouseEvent | TouchEvent) => void",signature:{arguments:[{type:{name:"union",raw:"MouseEvent | TouchEvent",elements:[{name:"MouseEvent"},{name:"TouchEvent"}]},name:"event"}],return:{name:"void"}}},description:`Callback fired when the component requests to be closed. Use it for
controlled mode.`},startIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element placed before the children."},tooltip:{required:!1,tsType:{name:"string"},description:"Tooltip contents refer to [Button component](/?path=/docs/components-telibutton--docs)."},variant:{required:!1,tsType:{name:"union",raw:'"tertiary" | "basic"',elements:[{name:"literal",value:'"tertiary"'},{name:"literal",value:'"basic"'}]},description:"The variant to use.",defaultValue:{value:'"tertiary"',computed:!1}},width:{required:!1,tsType:{name:"number"},description:"Width of the menu component."},xPlacement:{required:!1,tsType:{name:"PopperPlacementType"},description:"Vertical menu placement.",defaultValue:{value:'yPlacement = "bottom"',computed:!1}},yPlacement:{required:!1,tsType:{name:"PopperPlacementType"},description:"Horizontal menu placement.",defaultValue:{value:'"bottom"',computed:!1}}}};export{J as T};
