import{j as m}from"./jsx-runtime-Nms4Y4qS.js";import{u as h}from"./useQuery-BUFZIRxJ.js";import{r as a}from"./index-BwDkhjyp.js";import{l as O}from"./lodash-BYTxXjAY.js";const S={"http://telicent.io/ontology/":"telicent:"},c=t=>t&&t.startsWith("http")&&t.includes("#"),i=t=>{if(c(t)){const e=t.split("#");return e.length>1?e[1]:t}const o=Object.keys(S).find(e=>t.startsWith(e));return o?t.replace(o,""):t},I=t=>{if(t){const o=/(\b[a-zA-Z0-9])?/g,e=t.match(o);if(e)return e.join("").slice(0,3)}return console.warn(`Telicent DS (getInitials): Unable to get initials from "${t}"`),""},u=t=>{if(c(t)){const o=t.split("#");if(o.length===2)return I(O.startCase(o[1]))}return t??""},_=t=>Object.entries(t).map(([o,e])=>({classUri:o,backgroundColor:e.defaultStyles.dark.backgroundColor,color:e.defaultStyles.dark.color,iconFallbackText:u(o),alt:i(o),shape:e.defaultStyles.shape,faUnicode:e.defaultIcons.faUnicode,faIcon:e.defaultIcons.faIcon})),d=a.createContext(null),l=({service:t,children:o})=>{const r=h({queryKey:["ontology-styles"],queryFn:()=>t.getStyles(),refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:!1,staleTime:864e5,enabled:!!t,select:_}).data??[],f=n=>{const s=r.find(p=>p.classUri===n);if(s)return s;const y=i(n),g=u(n);return{classUri:n,color:"#DDDDDD",backgroundColor:"#121212",iconFallbackText:g,alt:y}};return m.jsx(d.Provider,{value:{styles:r,findIcon:f},children:o})},k=()=>{const t=a.useContext(d);if(!t)throw new Error("useOntologyService has to be used within <OntologyStylesProvider />");return t};try{l.displayName="OntologyStylesProvider",l.__docgenInfo={description:"",displayName:"OntologyStylesProvider",props:{service:{defaultValue:null,description:"",name:"service",required:!0,type:{name:"OntologyService"}}}}}catch{}export{l as O,k as u};
